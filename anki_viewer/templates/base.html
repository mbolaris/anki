<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Anki Deck Viewer{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  </head>
  <body{% block body_attrs %}{% endblock %}>
    {% block site_header %}
      <header class="site-header">
        <h1><a href="{{ url_for('index') }}">Anki Deck Viewer</a></h1>
        {% if available_packages and available_packages|length > 1 %}
          <div class="deck-file-selector">
            <strong>Deck Files:</strong>
            {% for pkg in available_packages %}
              {% if pkg == current_package %}
                <span class="current-deck">{{ pkg.stem }}</span>
              {% else %}
                <a href="{{ url_for('switch_deck', filename=pkg.name) }}" class="deck-link">{{ pkg.stem }}</a>
              {% endif %}
              {% if not loop.last %} | {% endif %}
            {% endfor %}
          </div>
        {% endif %}
        {% if deck_collection %}
          <p class="subtitle">
            {{ deck_collection.total_cards }} cards available across {{ deck_collection.decks|length }} decks.
          </p>
        {% endif %}
      </header>
    {% endblock %}
    <main class="{% block main_class %}content{% endblock %}">
      {% block content %}{% endblock %}
    </main>
    {% block site_footer %}
      <footer class="site-footer">
        <p>Deck source: <code>{{ package_path }}</code></p>
      </footer>
    {% endblock %}
    {% block extra_scripts %}{% endblock %}
  </body>
</html>
